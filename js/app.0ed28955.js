(function(t){function e(e){for(var n,c,a=e[0],r=e[1],l=e[2],u=0,p=[];u<a.length;u++)c=a[u],i[c]&&p.push(i[c][0]),i[c]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,a=1;a<o.length;a++){var r=o[a];0!==i[r]&&(n=!1)}n&&(s.splice(e--,1),t=c(c.s=o[0]))}return t}var n={},i={app:0},s=[];function c(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.m=t,c.c=n,c.d=function(t,e,o){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(o,n,function(e){return t[e]}.bind(null,n));return o},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/autopass/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var d=r;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},2856:function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("097d");var n=o("2b0e"),i=o("8c4f"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("todolist")],1)},c=[],a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"container-fluid bg-color"},[t._m(0),o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-md-10 py-2"},[o("div",{staticClass:"input-group mb-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newinput,expression:"newinput"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入待辦事項"},domProps:{value:t.newinput},on:{input:function(e){e.target.composing||(t.newinput=e.target.value)}}}),o("div",{staticClass:"input-group-append"},[o("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.addtotodolist()}}},[t._v("新增")])])]),o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-6 text-center"},[o("button",{staticClass:"btn btn-secondary mr-3",on:{click:function(e){t.visibility="all"}}},[t._v("全部項目")]),o("button",{staticClass:"btn btn-secondary mr-3",on:{click:function(e){t.visibility="undo"}}},[t._v("進行中")]),o("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.visibility="completed"}}},[t._v("已完成")])])]),o("ul",{staticClass:"list-group my-2 text-color-listitem"},t._l(t.filtertodo,function(e,n){return o("li",{key:n,staticClass:"list-group-item"},[e.id!==t.cachetodo.id?o("div",{staticClass:"d-flex"},[o("div",{staticClass:"form-check"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.iscompleted,expression:"i.iscompleted"}],staticClass:"form-check-input position-static",attrs:{type:"checkbox",id:"defaultCheck1"},domProps:{checked:Array.isArray(e.iscompleted)?t._i(e.iscompleted,null)>-1:e.iscompleted},on:{click:function(o){t.updatecompleted(e)},change:function(o){var n=e.iscompleted,i=o.target,s=!!i.checked;if(Array.isArray(n)){var c=null,a=t._i(n,c);i.checked?a<0&&t.$set(e,"iscompleted",n.concat([c])):a>-1&&t.$set(e,"iscompleted",n.slice(0,a).concat(n.slice(a+1)))}else t.$set(e,"iscompleted",s)}}})]),o("label",{staticClass:"form-check-label",class:{deleteline:!0===e.iscompleted},attrs:{for:"defaultCheck1"}},[t._v(t._s(e.content))]),o("div",{staticClass:"ml-auto"},[o("button",{staticClass:"btn btn-outline-secondary mr-2",on:{click:function(o){o.preventDefault(),t.edittodo(e)}}},[t._v("\n                                        編輯\n                                    ")]),o("button",{staticClass:"btn btn-outline-secondary",on:{click:function(o){o.preventDefault(),t.deletetodo(e)}}},[t._v("\n                                        刪除\n                                    ")])])]):t._e(),e.id===t.cachetodo.id?o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.cachetodo.content,expression:"cachetodo.content"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入待辦事項"},domProps:{value:t.cachetodo.content},on:{input:function(e){e.target.composing||t.$set(t.cachetodo,"content",e.target.value)}}}),o("div",{staticClass:"input-group-append"},[o("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(o){o.preventDefault(),t.savefromedit(e)}}},[t._v("儲存")])])]):t._e()])}))])]),t._m(1)]),o("maps")],1)},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row justify-content-center py-1"},[o("div",{staticClass:"col-md-8"},[o("h2",{staticClass:"text-center"},[t._v("Todo List 待辦事項")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-md-10 text-center mt-2 text-white"},[o("p",[t._v("點擊滑鼠右鍵可以添加標記唷，並選擇你要完成的待辦事項！")])])])])}],l=(o("ac6a"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container-fluid"},[o("div",{staticClass:"row justify-content-center"},[o("gmap-map",{staticStyle:{width:"100%",height:"600px"},attrs:{center:t.center,zoom:12},on:{rightclick:t.mapRclicked}},t._l(t.markers,function(e,n){return o("gmap-marker",{key:n,attrs:{draggable:!0,position:e.position},on:{click:function(o){t.opentheinfo(e)}}},[o("gmap-info-window",{attrs:{opened:!0===e.ifw}},[o("select",{staticClass:"custom-select custom-select-lg",attrs:{name:"todoselect",id:"todoselect"}},t._l(t.todofromdb,function(e){return o("option",{key:e.key,class:{optioncolor:"true"===e.iscompleted}},[t._v(t._s(e.content))])}))])],1)}))],1)])}),d=[],u=o("6cee"),p=o("755e"),f=o("8aa5"),m=o.n(f),v={apiKey:"AIzaSyDujKKKC0MrwwrdbPNHzWuBCnVrC5Ebj9M",authDomain:"forautopass.firebaseapp.com",databaseURL:"https://forautopass.firebaseio.com",projectId:"forautopass",storageBucket:"forautopass.appspot.com",messagingSenderId:"322935088485"},h=m.a.initializeApp(v),b=h.database(),g={data:function(){return{lastId:1,center:{lat:45.508,lng:-73.587},markers:[],todofromdb:[]}},firebase:{todofromdb:b.ref("todo")},components:{GmapCustomMarker:u["a"]},mounted:function(){this.geolocate()},computed:{google:p["gmapApi"]},methods:{geolocate:function(){var t=this;navigator.geolocation.getCurrentPosition(function(e){t.center={lat:e.coords.latitude,lng:e.coords.longitude}})},mapRclicked:function(t){var e=this.addMarker();e.position.lat=t.latLng.lat(),e.position.lng=t.latLng.lng()},addMarker:function(){return this.lastId++,this.markers.push({id:this.lastId,position:{lat:48.8538302,lng:2.2982161},opacity:1,draggable:!0,enabled:!0,clicked:0,rightClicked:0,dragended:0,ifw:!0}),this.markers[this.markers.length-1]},opentheinfo:function(t){!0===t.ifw?t.ifw=!1:!1===t.ifw&&(t.ifw=!0)}}},y=g,_=o("2877"),k=Object(_["a"])(y,l,d,!1,null,null,null);k.options.__file="maps.vue";var C=k.exports,w={data:function(){return{newinput:"",cachetodo:{id:"",content:"",iscompleted:""},visibility:"all",todo:[]}},computed:{filtertodo:function(){var t=this;if("all"===this.visibility)return t.todo;if("undo"===this.visibility){var e=[];return t.todo.forEach(function(t){t.iscompleted||e.push(t)}),e}if("completed"===this.visibility){var o=[];return t.todo.forEach(function(t){t.iscompleted&&o.push(t)}),o}}},firebase:{todo:b.ref("todo")},components:{maps:C},methods:{addtotodolist:function(){var t=this,e=t.newinput,o=Math.floor(Date.now());console.log(e,o),this.$firebaseRefs.todo.push({id:o,content:e,iscompleted:!1})},deletetodo:function(t){this.$firebaseRefs.todo.child(t[".key"]).remove(),console.log("delete success")},edittodo:function(t){var e=this;console.log(t),e.cachetodo=t,e.cachetodo.id=t.id,e.cachetodo.content=t.content,e.cachetodo.iscompleted=t.iscompleted},savefromedit:function(t){var e=this;e.cachetodo.content=t.content;var o={id:t.id,content:t.content,iscompleted:t.iscompleted};delete o[".key"],this.$firebaseRefs.todo.child(t[".key"]).set(o),e.cachetodo={},console.log("update content success",this.$firebaseRefs.todo.child(t[".key"]))},updatecompleted:function(t){!1===t.iscompleted?t.iscompleted=!0:t.iscompleted=!1;var e={id:t.id,content:t.content,iscompleted:t.iscompleted};delete e[".key"],this.$firebaseRefs.todo.child(t[".key"]).set(e),console.log("update completed option success",this.$firebaseRefs.todo.child(t[".key"]))}}},x=w,j=Object(_["a"])(x,a,r,!1,null,null,null);j.options.__file="todolist.vue";var $=j.exports,O={name:"home",components:{todolist:$}},P=O,S=Object(_["a"])(P,s,c,!1,null,null,null);S.options.__file="Home.vue";var A=S.exports;n["a"].use(i["a"]);var E=new i["a"]({routes:[{path:"/",name:"home",component:A}]}),M=o("2f62");n["a"].use(M["a"]);var R=new M["a"].Store({state:{},mutations:{},actions:{}}),D=(o("4989"),o("5f30")),I=o.n(D),z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},H=[],K=(o("5c0b"),{}),L=Object(_["a"])(K,z,H,!1,null,null,null);L.options.__file="App.vue";var N=L.exports;n["a"].use(p,{load:{key:"AIzaSyAllUHHpw9-6xCQQbP-c_SQJnqCX9WRn8E"}}),n["a"].use(I.a),n["a"].config.productionTip=!1,new n["a"]({router:E,store:R,render:function(t){return t(N)}}).$mount("#app")},"5c0b":function(t,e,o){"use strict";var n=o("2856"),i=o.n(n);i.a}});
//# sourceMappingURL=app.0ed28955.js.map